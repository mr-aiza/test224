<!DOCTYPE html>
 <html lang="fa">
 <head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>رزرو مراسم</title>
 
     <!-- افزونه‌ها -->
     <link href="https://fonts.googleapis.com/css2?family=Vazir&display=swap" rel="stylesheet">
     <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
     <script src="https://cdn.jsdelivr.net/npm/persian-datepicker@latest/dist/js/persian-datepicker.min.js"></script>
     <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/persian-datepicker@latest/dist/css/persian-datepicker.min.css">
     <link href="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/css/select2.min.css" rel="stylesheet" />
     <script src="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/js/select2.min.js"></script>
     <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" rel="stylesheet">
     <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
     <script src="https://unpkg.com/dropzone/dist/dropzone.js"></script>
     <link rel="stylesheet" href="https://unpkg.com/dropzone/dist/dropzone.css">
 
     <style>
         body {
             font-family: 'Vazir', sans-serif;
             background-color: #f0f0f5;
             background-color: #f4f7fa;
             display: flex;
             justify-content: center;
             align-items: center;
             height: 100vh;
             min-height: 100vh;
             margin: 0;
         }
         .form-container {
             background-color: white;
             width: 80%;
             max-width: 900px;
             padding: 30px;
             border-radius: 10px;
             box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
             text-align: right;
         }
         h2 {
             font-size: 24px;
             color: #333;
             margin-bottom: 20px;
             text-align: center;
         }
         input, select, textarea {
             width: 100%;
             padding: 10px;
             margin: 10px 0;
             border-radius: 8px;
             border: 1px solid #ddd;
             font-size: 16px;
         }
         .dropzone {
             border: 2px dashed #ddd;
             padding: 20px;
             margin-bottom: 20px;
         }
         .btn-submit {
             padding: 12px 20px;
             background-color: #28a745;
             color: white;
             border: none;
             border-radius: 8px;
             font-size: 18px;
             width: 100%;
             cursor: pointer;
         }
         .btn-submit:hover {
             background-color: #218838;
         }
         .btn-secondary {
             background-color: #17a2b8;
             padding: 12px 20px;
             color: white;
             border: none;
             border-radius: 8px;
             font-size: 18px;
             width: 100%;
         }
         .btn-secondary:hover {
             background-color: #138496;
         }
         .form-group {
             margin-bottom: 20px;
         }
     </style>
 </head>
 <body>
     <div class="form-container">
         <h2>فرم رزرو مراسم</h2>
         <form id="reservationForm">
             <div class="form-group">
                 <label for="firstName">نام:</label>
                 <input type="text" id="firstName" name="firstName" required>
             </div>
             <div class="form-group">
                 <label for="lastName">نام خانوادگی:</label>
                 <input type="text" id="lastName" name="lastName" required>
             </div>
             <div class="form-group">
                 <label for="eventDate">تاریخ مراسم:</label>
                 <input type="text" id="eventDate" name="eventDate" class="datepicker" required>
             </div>
             <div class="form-group">
                 <label for="eventTime">زمان مراسم:</label>
                 <input type="text" id="eventTime" name="eventTime" required>
             </div>
             <div class="form-group">
                 <label for="eventType">نوع مراسم:</label>
                 <select id="eventType" name="eventType">
                     <option value="عروسی">عروسی</option>
                     <option value="عقد">عقد</option>
                     <option value="تولد">تولد</option>
                     <option value="مهمانی">مهمانی</option>
                 </select>
             </div>
             <div class="form-group">
                 <label for="guestCount">تعداد مهمان‌ها:</label>
                 <input type="number" id="guestCount" name="guestCount" required>
             </div>
             <div class="form-group">
                 <label for="venue">محل برگزاری:</label>
                 <input type="text" id="venue" name="venue" required>
             </div>
             <div class="form-group">
                 <label for="juice">آب میوه:</label>
                 <select id="juice" name="juice">
                     <option value="آب میوه - اقتصادی">آب میوه - اقتصادی</option>
                     <option value="آب میوه - معمولی">آب میوه - معمولی</option>
                     <option value="آب میوه - ویژه">آب میوه - ویژه</option>
                 </select>
             </div>
             <div class="form-group">
                 <label for="fingerFood">فینگر فود:</label>
                 <select id="fingerFood" name="fingerFood">
                     <option value="فینگر فود - اقتصادی">فینگر فود - اقتصادی</option>
                     <option value="فینگر فود - معمولی">فینگر فود - معمولی</option>
                     <option value="فینگر فود - ویژه">فینگر فود - ویژه</option>
                 </select>
             </div>
             <div class="form-group">
                 <label for="dinner">شام:</label>
                 <select id="dinner" name="dinner">
                     <option value="شام سلف سرویس">شام سلف سرویس</option>
                     <option value="شام دیس پرس">شام دیس پرس</option>
                 </select>
             </div>
             <div class="form-group">
                 <label for="flowerArrangement">گل‌آرایی:</label>
                 <select id="flowerArrangement" name="flowerArrangement">
                     <option value="گل آرایی - اقتصادی">گل آرایی - اقتصادی</option>
                     <option value="گل آرایی - معمولی">گل آرایی - معمولی</option>
                     <option value="گل آرایی - ویژه">گل آرایی - ویژه</option>
                 </select>
             </div>
             <div class="form-group">
                 <label>خدمات اضافی:</label>
                 <input type="checkbox" id="photography" name="services" value="عکاسی"> عکاسی
                 <input type="checkbox" id="video" name="services" value="فیلم‌برداری"> فیلم‌برداری
                 <input type="checkbox" id="music" name="services" value="موزیک"> موزیک
             </div>
             <div class="form-group">
                 <div class="dropzone" id="myDropzone"></div>
             </div>
             <button type="button" class="btn-submit" onclick="saveData()">رزرو مراسم</button>
         </form>
     </div>
 
     <script>
         $(document).ready(function() {
             $('#eventDate').persianDatepicker({
                 format: 'YYYY/MM/DD',
                 autoClose: true
             });
             $('#eventType, #juice, #fingerFood, #dinner, #flowerArrangement').select2({
                 dir: 'rtl'
             });
 
             Dropzone.autoDiscover = false;
             var myDropzone = new Dropzone("#myDropzone", {
                 url: "/upload", 
                 paramName: "file",
                 maxFilesize: 5,
                 maxFiles: 5,
                 acceptedFiles: "image/*", 
                 dictDefaultMessage: "اینجا فایل‌های خود را بکشید و رها کنید"
             });
         });
 
         function saveData() {
             const formData = {
                 firstName: $("#firstName").val(),
                 lastName: $("#lastName").val(),
                 eventDate: $("#eventDate").val(),
                 eventTime: $("#eventTime").val(),
                 eventType: $("#eventType").val(),
                 guestCount: $("#guestCount").val(),
                 venue: $("#venue").val(),
                 juice: $("#juice").val(),
                 fingerFood: $("#fingerFood").val(),
                 dinner: $("#dinner").val(),
                 flowerArrangement: $("#flowerArrangement").val(),
                 services: {
                     photography: $("#photography").is(":checked"),
                     video: $("#video").is(":checked"),
                     music: $("#music").is(":checked")
                 }
             };
 
             localStorage.setItem('reservationData', JSON.stringify(formData));
 
             Swal.fire({
                 icon: 'success',
                 title: 'رزرو با موفقیت ثبت شد!',
                 text: 'مراسم شما با موفقیت رزرو شد.',
             }).then(() => {
                 window.location.href = 'home.html';
             });
         }
     </script>
 </body>
 </html>
