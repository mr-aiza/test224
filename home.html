<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>فاکتور رزرو</title>

    <!-- افزونه‌ها -->
    <link href="https://fonts.googleapis.com/css2?family=Vazir&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Vazir', sans-serif;
            background-color: #f4f7fa;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            flex-direction: column;
            padding: 20px;
        }
        .invoice-container {
            background-color: white;
            width: 80%;
            max-width: 900px;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            text-align: right;
            margin-bottom: 20px;
        }
        h2 {
            font-size: 24px;
            color: #333;
            margin-bottom: 20px;
            text-align: center;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            padding: 10px;
            text-align: right;
            border: 1px solid #ddd;
        }
        th {
            background-color: #f8f8f8;
        }
        .total {
            font-weight: bold;
            background-color: #f0f0f5;
        }

        .contract {
            background-color: white;
            padding: 20px;
            margin-top: 20px;
            border-radius: 10px;
            width: 80%;
            max-width: 900px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        }
        .contract h3 {
            font-size: 22px;
            color: #333;
            margin-bottom: 15px;
            text-align: center;
        }
        .contract p {
            font-size: 16px;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <div class="invoice-container">
        <h2>فاکتور رزرو مراسم</h2>
        <table>
            <tr>
                <th>مورد</th>
                <th>مقدار</th>
            </tr>
            <tr>
                <td>نام و نام خانوادگی</td>
                <td id="nameInvoice"></td>
            </tr>
            <tr>
                <td>نوع مراسم</td>
                <td id="eventTypeInvoice"></td>
            </tr>
            <tr>
                <td>تاریخ مراسم</td>
                <td id="eventDateInvoice"></td>
            </tr>
            <tr>
                <td>تعداد مهمان‌ها</td>
                <td id="guestCountInvoice"></td>
            </tr>
            <tr>
                <td>محل برگزاری</td>
                <td id="venueInvoice"></td>
            </tr>
            <tr>
                <td>خدمات اضافی</td>
                <td id="extraServicesInvoice"></td>
            </tr>
            <tr class="total">
                <td>مجموع</td>
                <td id="totalInvoice"></td>
            </tr>
        </table>
    </div>

    <div class="contract">
        <h3>قول‌نامه</h3>
        <p>
            این فاکتور به عنوان یک توافق‌نامه بین طرفین محسوب می‌شود. مشتری و برگزارکننده مراسم به طور مشترک مسئولیت تمام جزئیات و شرایط مندرج در این فاکتور را به عهده می‌گیرند. تمامی خدمات از جمله غذا، نوشیدنی، گل‌آرایی، و موسیقی مطابق با خواسته‌های ذکر شده در این فاکتور ارائه خواهد شد و هیچ تغییری بدون توافق طرفین ایجاد نخواهد شد.
        </p>
        <p>
            در صورت تغییر در زمان یا مکان مراسم، مشتری موظف به اطلاع‌رسانی حداقل 72 ساعت قبل از مراسم می‌باشد. در صورتی که مشتری از تصمیم خود برای برگزاری مراسم منصرف شود، مبلغ پرداخت شده قابل استرداد نخواهد بود.
        </p>
        <p>
            در نهایت، برگزاری مراسم به شرایط کلی و قوانین این مجموعه بستگی دارد و مشتری تایید می‌کند که تمامی قوانین و مقررات مجموعه را پذیرفته است.
        </p>
    </div>

    <script>
        window.onload = function() {
            const reservationData = JSON.parse(localStorage.getItem('reservationData'));
            
            // نمایش داده‌ها در فاکتور
            document.getElementById('nameInvoice').innerText = reservationData.firstName + ' ' + reservationData.lastName;
            document.getElementById('eventTypeInvoice').innerText = reservationData.eventType;
            document.getElementById('eventDateInvoice').innerText = reservationData.eventDate;
            document.getElementById('guestCountInvoice').innerText = reservationData.guestCount;
            document.getElementById('venueInvoice').innerText = reservationData.venue;

            // خدمات اضافی
            const extraServices = [];
            if (reservationData.services.photography) extraServices.push('عکاسی');
            if (reservationData.services.video) extraServices.push('فیلم‌برداری');
            if (reservationData.services.music) extraServices.push('موزیک');
            document.getElementById('extraServicesInvoice').innerText = extraServices.join(', ');

            // محاسبه قیمت
            const totalPrice = calculateTotalPrice(reservationData);
            document.getElementById('totalInvoice').innerText = `${totalPrice} تومان`;
        };

        function calculateTotalPrice(data) {
            let basePrice = 0;

            // افزودن قیمت بر اساس نوع مراسم
            switch (data.eventType) {
                case 'عروسی':
                    basePrice += 2000000;
                    break;
                case 'عقد':
                    basePrice += 1000000;
                    break;
                case 'تولد':
                    basePrice += 800000;
                    break;
                case 'مهمانی':
                    basePrice += 600000;
                    break;
            }

            // افزودن قیمت بر اساس تعداد مهمان‌ها
            basePrice += data.guestCount * 5000;

            // افزودن قیمت خدمات اضافی
            if (data.services.photography) basePrice += 100000;
            if (data.services.video) basePrice += 150000;
            if (data.services.music) basePrice += 80000;

            return basePrice;
        }
    </script>
</body>
</html>
